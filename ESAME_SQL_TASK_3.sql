DROP SCHEMA IF exists RIF_TOYSGROUP;

CREATE SCHEMA RIF_TOYSGROUP;

USE RIF_TOYSGROUP;

-- CREO TABELLA PER LE CATEGORIE;
CREATE TABLE CATEGORIE (
    CATEGORIE_ID INT PRIMARY KEY ,
    CATEGORIENOME VARCHAR(20) NOT NULL 
	);

-- CREO TABELLA PER I PRODOTTI;

CREATE TABLE PRODUCTS (
    PRODUCT_ID INT PRIMARY KEY ,
    PRODUCT_NAME VARCHAR(20) NOT NULL,
    CATEGORIE_ID INT NOT NULL,
    PRICE DECIMAL(7,2) NOT NULL,
    FOREIGN KEY (CATEGORIE_ID) REFERENCES CATEGORIE (CATEGORIE_ID)
);

-- CREO TABELLA PER LE REGIONI;
CREATE TABLE REGIONS (
    REGION_ID INT PRIMARY KEY ,
    REGION_NAME VARCHAR(20) NOT NULL
);

-- CREO TABELLA PER GLI STATI

CREATE TABLE COUNTRIES (
    COUNTRY_ID INT PRIMARY KEY  ,
    COUNTRY_NAME VARCHAR(20) NOT NULL ,
    REGION_ID INT NOT NULL ,
    FOREIGN KEY (REGION_ID) REFERENCES REGIONS(REGION_ID)
);

-- CREO TABELLE PER LE VENDITE

CREATE TABLE Sales (
    SALE_ID INT PRIMARY KEY ,
    PRODUCT_ID INT NOT NULL ,
    COUNTRY_ID INT NOT NULL ,
    DATE_SALE DATE,
    QUANTITY INT NOT NULL ,
    TOTAL DECIMAL(8, 2) NOT NULL ,
    FOREIGN KEY (PRODUCT_ID) REFERENCES PRODUCTS(PRODUCT_ID),
    FOREIGN KEY (COUNTRY_ID) REFERENCES COUNTRIES(COUNTRY_ID)
);

-- INSERIMENTO DATI TABELLE 

INSERT INTO CATEGORIE (CATEGORIE_ID, CATEGORIENOME) VALUES
(1, 'GIOCATTOLI_BAMBINO'),
(2, 'GIOCATTOLI_BAMBINA');

INSERT INTO PRODUCTS (PRODUCT_ID, PRODUCT_NAME, CATEGORIE_ID, PRICE) VALUES
(5012, 'PUZZLE-100', 1, 50),
(5013, 'PUZZLE-1000', 1, 150),
(6155, 'BAMBOLA-BARBIE', 2, 60),
(6156, 'PETTINE-BARBIE', 2, 10);

INSERT INTO REGIONS (REGION_ID, REGION_NAME) VALUES
(1, 'EUROPA'),
(2, 'AMERICA'),
(3, 'ASIA');

INSERT INTO COUNTRIES (COUNTRY_ID, COUNTRY_NAME , REGION_ID) VALUES
(1, 'ITALIA', 1),
(2, 'SPAGNA', 1),
(3, 'CALIFORNIA', 2),
(4, 'NEW YORK', 2),
(5, 'CINA', 3),
(6, 'GIAPPONE', 3);

INSERT INTO SALES (SALE_ID, DATE_SALE, PRODUCT_ID, COUNTRY_ID, QUANTITY, TOTAL) VALUES
(1, '2025-01-01', 5012, 1, 5, 250),
(2, '2024-08-17', 5012, 2, 2, 100),
(3, '2022-09-01', 6155, 3, 20, 1200),
(4, '2024-12-01', 6156, 4, 150, 1500);


